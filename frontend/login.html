<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login - Gem ANPR</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          colors: {
            primary: {
              light: '#F8F9FA',
              dark: '#1A1B22',
            },
            secondary: {
              light: '#FFFFFF',
              dark: '#2C2E3A',
            },
            accent: '#007BFF',
            text: {
              light: '#343A40',
              dark: '#E9ECEF',
            },
            border: {
              light: '#DEE2E6',
              dark: '#495057',
            },
            danger: '#DC3545',
            success: '#28A745',
          },
          boxShadow: {
            'card-light': '0 4px 12px rgba(0, 0, 0, 0.05), 0 2px 6px rgba(0, 0, 0, 0.03)',
            'card-dark': '0 8px 20px rgba(0, 0, 0, 0.4), 0 4px 10px rgba(0, 0, 0, 0.3)',
          }
        }
      }
    }
  </script>
  <style>
    /* Basic styling for body and fonts */
    body {
        font-family: 'Inter', sans-serif;
        line-height: 1.7;
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    /* Button base styles */
    .btn-base-style {
        @apply inline-flex items-center justify-center w-full font-bold py-3 px-8 rounded-lg shadow-md
               transition-all duration-150 ease-in-out text-lg tracking-wide focus:outline-none focus:ring-2 focus:ring-opacity-75;
    }
    .btn-primary-theme {
        @apply bg-accent text-white;
    }
    .btn-hover-effect {
        @apply hover:shadow-lg transform hover:-translate-y-1 hover:scale-102;
    }
    /* Input field styles */
    .demo-input {
        @apply w-full p-4 rounded-lg border focus:outline-none focus:ring-2 transition-all duration-150;
        background-color: theme('colors.secondary.dark');
        color: theme('colors.text.dark');
        border-color: theme('colors.border.dark');
        --tw-ring-color: theme('colors.accent');
    }
    .demo-input::placeholder {
        color: theme('colors.gray.500');
    }
    html.light .demo-input {
        background-color: theme('colors.white');
        color: theme('colors.text.light');
        border-color: theme('colors.border.light');
    }
  </style>
</head>
<body class="bg-primary-light dark:bg-primary-dark text-text-light dark:text-text-dark flex items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-md bg-secondary-light dark:bg-secondary-dark p-8 rounded-xl shadow-card-light dark:shadow-card-dark border border-border-light dark:border-border-dark">
        <h2 class="text-3xl font-extrabold text-center mb-8 text-text-light dark:text-text-dark">Login to Gem ANPR</h2>

        <form action="/login" method="POST" class="space-y-6">
            <div>
                <label for="username" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Username</label>
                <input type="text" id="username" name="username" required autocomplete="username"
                       class="demo-input" placeholder="Enter your username">
            </div>
            <div>
                <label for="password" class="block text-sm font-medium text-text-light dark:text-text-dark mb-2">Password</label>
                <input type="password" id="password" name="password" required autocomplete="current-password"
                       class="demo-input" placeholder="Enter your password">
            </div>

            <div id="error-message" class="text-center text-danger hidden text-sm font-medium">
                {{ error_message }} {# Jinja2 template variable for error #}
            </div>

            <button type="submit" class="btn-base-style btn-primary-theme btn-hover-effect">
                Login
            </button>
        </form>
    </div>

    <script>
        // Display error message if present from server redirect
        document.addEventListener('DOMContentLoaded', () => {
            const errorMessageDiv = document.getElementById('error-message');
            // The `error_message` variable is passed by Jinja2.
            // If it's not empty, it means an error occurred.
            if ("{{ error_message }}" && "{{ error_message }}" !== "None") {
                errorMessageDiv.classList.remove('hidden');
            }
        });
    </script>
</body>
</html>